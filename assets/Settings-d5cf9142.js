import{h as x,n as g,A as h,j as e,e as b,H as f}from"./index-0f9aff97.js";import{F as i}from"./FormRow-75000bdd.js";import{F as j,I as a}from"./Input-09883a5b.js";import{u as k,a as B}from"./useSettings-59eb02af.js";import{u as S}from"./useMutation-07c9b950.js";import{R as y}from"./Row-33673f74.js";const F=()=>{const r=x(),{mutate:o,isLoading:u}=S({mutationFn:k,onSuccess:async()=>{g.success("Setting successfully edited"),await r.invalidateQueries({queryKey:[h.settings]})},onError:d=>g.error(d)});return{isUpdating:u,updateSetting:o}},L=()=>{const{isLoading:r,settings:{minBookingLength:o,maxBookingLength:u,maxGuestsPerBooking:d,breakfastPrice:m}={}}=B(),{isUpdating:s,updateSetting:c}=F();if(r)return e.jsx(b,{});const n=(t,p)=>{const{value:l}=t.target;l&&c({[p]:l})};return e.jsxs(j,{children:[e.jsx(i,{label:"Minimum nights/booking",children:e.jsx(a,{type:"number",id:"min-nights",defaultValue:o,disabled:s,onBlur:t=>n(t,"minBookingLength")})}),e.jsx(i,{label:"Maximum nights/booking",children:e.jsx(a,{type:"number",id:"max-nights",defaultValue:u,disabled:s,onBlur:t=>n(t,"maxBookingLength")})}),e.jsx(i,{label:"Maximum guests/booking",children:e.jsx(a,{type:"number",id:"max-guests",defaultValue:d,disabled:s,onBlur:t=>n(t,"maxGuestsPerBooking")})}),e.jsx(i,{label:"Breakfast price",children:e.jsx(a,{type:"number",id:"breakfast-price",defaultValue:m,disabled:s,onBlur:t=>n(t,"breakfastPrice")})})]})},q=()=>e.jsxs(y,{children:[e.jsx(f,{as:"h1",children:"Update hotel settings"}),e.jsx(L,{})]});export{q as default};
