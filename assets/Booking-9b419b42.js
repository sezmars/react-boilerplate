import{s as g,f as x,j as e,e as h,S as t,H as j,B as n}from"./index-726df0d6.js";import{u as f,B,a as C,b}from"./useBooking-2a9bbe4a.js";import{R as v}from"./Row-37f980b3.js";import{u as D,T as y}from"./useCheckout-3541f4b8.js";import{u as S}from"./useMoveBack-0e057b2f.js";import{f as T}from"./index.esm-61d21229.js";import{E as H,M as r,C as N}from"./Empty-0d1ba7a6.js";import{u as O}from"./useDeleteBooking-1456f989.js";import"./Flag-614e00d4.js";import"./helpers-34206ec0.js";import"./apiBookings-b9e4fdfd.js";import"./index-003d7b47.js";import"./useMutation-711543e5.js";import"./iconBase-40c7697c.js";const w=g.div`
  display: flex;
  gap: 2.4rem;
  align-items: center;
`,E=()=>{const{booking:i,isLoading:d}=f(),{checkout:l,isCheckingOut:m}=D(),{deleteBooking:u,isDeleting:k}=O(),a=S(),c=x();if(d)return e.jsx(h,{});if(!i)return e.jsx(H,{resourceName:"booking"});const{status:o,id:s}=i,p={[t.unconfirmed]:"blue",[t.checkedIn]:"green",[t.checkedOut]:"silver"};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{type:"horizontal",children:[e.jsxs(w,{children:[e.jsxs(j,{as:"h1",children:["Booking #",s]}),e.jsx(y,{type:p[o],children:o.replace("-"," ")})]}),e.jsx(B,{onClick:a,children:"← Back"})]}),e.jsx(C,{booking:i}),e.jsxs(b,{children:[o==="unconfirmed"&&e.jsx(n,{onClick:()=>c(`/checkin/${s}`),children:"Check in"}),o==="checked-in"&&e.jsx(n,{icon:e.jsx(T,{}),onClick:()=>l(s),disabled:m,children:"Check out"}),e.jsxs(r,{children:[e.jsx(r.Open,{opens:"delete",children:e.jsx(n,{variation:"danger",children:"Delete booking"})}),e.jsx(r.Window,{name:"delete",children:e.jsx(N,{resourceName:"booking",disabled:k,onConfirm:()=>u(s,{onSettled:()=>c(-1)})})})]}),e.jsx(n,{variation:"secondary",onClick:a,children:"Back"})]})]})},P=()=>e.jsx(E,{});export{P as default};
