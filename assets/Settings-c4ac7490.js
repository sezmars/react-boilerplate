import{m as x,p as m,A as b,j as e,i as f,H as h}from"./index-0368fdbf.js";import{F as i}from"./FormRow-58942fcc.js";import{F as j,I as a}from"./Input-5ab00984.js";import{u as k,a as B}from"./useSettings-4481d811.js";import{u as S}from"./useMutation-918d7aa9.js";import{R as y}from"./Row-296cd4f1.js";const F=()=>{const r=x(),{mutate:o,isLoading:u}=S({mutationFn:k,onSuccess:async()=>{m.success("Setting successfully edited"),await r.invalidateQueries({queryKey:[b.settings]})},onError:d=>m.error(d)});return{isUpdating:u,updateSetting:o}},L=()=>{const{isLoading:r,settings:{minBookingLength:o,maxBookingLength:u,maxGuestsPerBooking:d,breakfastPrice:g}={}}=B(),{isUpdating:s,updateSetting:p}=F();if(r)return e.jsx(f,{});const n=(t,c)=>{const{value:l}=t.target;l&&p({[c]:l})};return e.jsxs(j,{children:[e.jsx(i,{label:"Minimum nights/booking",children:e.jsx(a,{type:"number",id:"min-nights",defaultValue:o,disabled:s,onBlur:t=>n(t,"minBookingLength")})}),e.jsx(i,{label:"Maximum nights/booking",children:e.jsx(a,{type:"number",id:"max-nights",defaultValue:u,disabled:s,onBlur:t=>n(t,"maxBookingLength")})}),e.jsx(i,{label:"Maximum guests/booking",children:e.jsx(a,{type:"number",id:"max-guests",defaultValue:d,disabled:s,onBlur:t=>n(t,"maxGuestsPerBooking")})}),e.jsx(i,{label:"Breakfast price",children:e.jsx(a,{type:"number",id:"breakfast-price",defaultValue:g,disabled:s,onBlur:t=>n(t,"breakfastPrice")})})]})},q=()=>e.jsxs(y,{children:[e.jsx(h,{as:"h1",children:"Update hotel settings"}),e.jsx(L,{})]});export{q as default};
